<!DOCTYPE html>
<html>
<head>
<title>9.html</title>
</head>
<body>
	<h1>9.html</h1>
	<p id="hello">Hello World</p>
	<form action='' method='post' id='send'>
		<input type="text" id='send-text'>
		<input type="submit" value="Send">
	</form>
	<p id="msg"></p>
<script src="/socket.io/socket.io.js"></script>
<script>
var socket = io.connect("/");
socket.on("connect", function() {
  console.log("connected");
})
socket.on("hello", function(d) {
	document.getElementById("hello").innerHTML = "Hello World " + d.toString();
})
document.getElementById('send').addEventListener('submit', function(e, d) {
	e.preventDefault();
	var val = document.getElementById('send-text').value;
	document.getElementById('send-text').value = "";
  console.log('submit', e, d);
  socket.emit("send", {data: val })
})
socket.on("send", function(d) {
  document.getElementById("msg").innerHTML = d['data']
})
</script>
</body>
</html>
